<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Список бойцов</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
  body {
    background-color: #111;
    color: #fff;
  }
  .card {
    background-color: #1a1a1a;
    color: #fff;
    border: 1px solid red;
  }
  .btn-danger {
    background-color: #cc0000;
    border: none;
  }
  .btn-danger:hover {
    background-color: #ff1a1a;
  }
</style>
</head>
<body>
  <h1>Бойцы ММА</h1>
  <ul id="fighters-list"></ul>
<form id="search-form" class="mb-3">
  <input type="text" id="search-input" class="form-control" placeholder="Введите имя бойца">
  <button type="submit" class="btn btn-danger mt-2">Найти</button>
</form>
  <script>
    fetch('/api/fighters')
      .then(res => res.json())
      .then(data => {
        const ul = document.getElementById('fighters-list');
        data.forEach(f => {
          const li = document.createElement('li');
          li.innerHTML = `<a href="fighter.html?id=${f.id}">${f.name} — ${f.country}</a>`;
          ul.appendChild(li);
        });
      });
      document.getElementById('search-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const query = document.getElementById('search-input').value;
    const res = await fetch(`/api/search?q=${query}`);
    const fighters = await res.json();

    const list = document.getElementById('search-results');
    list.innerHTML = '';
    fighters.forEach(f => {
      const li = document.createElement('li');
      li.className = 'list-group-item';
      li.innerHTML = `<a href="/views/fighter.html?id=${f.id}">${f.name}</a>`;
      list.appendChild(li);
    });
  });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
